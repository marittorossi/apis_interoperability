{
  "openapi": "3.0.3",
  "info": {
    "title": "business-xapi-services",
    "description": "## API Overview\n\n**Architecture Layer:** Experience Layer (XAPI) - Part of ETB's API-led connectivity architecture\n\n**Service Name:** business-xapi-service\n**Total Operations:** 3\n**Documentation Quality:** 60% RAML Coverage\n\n## Core Capabilities\n\nmanage information related to the organization's businesss\n\n## Standards Compliance\n\n- OpenAPI 3.0.3 Specification\n- ETB API Design Guidelines\n- OAuth 2.0 Security Standards\n- RESTful API Design Principles\n- TM Forum Open APIs Compliance\n\n## Mock Server Information\n\nThis specification includes mock examples for all operations to facilitate API testing and integration development without requiring live backend connectivity.",
    "version": "v1",
    "contact": {
      "name": "ETB API Team",
      "url": "https://www.etb.com.co",
      "email": "api-support@etb.com.co"
    },
    "license": {
      "name": "Proprietary - ETB"
    },
    "x-language": "en",
    "x-compliance": "TM Forum Open APIs"
  },
  "servers": [
    {
      "url": "https://mock-business-xapi-service.etb-apis.com",
      "description": "Mock Server - Documentation and Testing"
    },
    {
      "url": "https://business-xapi-service-prod.us-e2.cloudhub.io",
      "description": "Production Server - Live Environment"
    },
    {
      "url": "https://business-xapi-service-qa.us-e2.cloudhub.io",
      "description": "QA Test Server - Validation Environment"
    }
  ],
  "paths": {
    "/partyInteraction": {
      "get": {
        "operationId": "get_partyInteraction",
        "summary": "Retrieve Partyinteraction",
        "description": "The GET /partyInteraction endpoint in ETB's business-xapi-service retrieves detailed information about interactions between parties within the telecommunications network.  This is crucial for various ETB operational and customer service functions.  For example, it allows for:\n\n* **Real-time monitoring of customer service calls:**  Agents can access call history, duration, and participant details to provide better support.  This integrates with ETB's CRM system.\n* **Proactive network management:**  Identifying frequent interaction failures between specific network elements helps pinpoint and resolve connectivity issues, improving network reliability.\n* **Billing accuracy verification:**  Matching interactions with billing records ensures accurate invoicing for services like calls, SMS, and data usage.\n* **Fraud detection:**  Analyzing unusual interaction patterns can help identify and prevent fraudulent activities.\n\nThe endpoint returns a structured response containing interaction timestamps, participant identifiers (MSISDNs, IMSI, etc.), service types, and call details.  This data is vital for various ETB internal systems and external integrations, ensuring efficient operation and improved customer experience.\n",
        "tags": [
          "Business Xapi Service"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PartyinteractionModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "data": {
                    "id": "ETB001234",
                    "name": "Ejemplo ETB",
                    "created": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      },
      "post": {
        "operationId": "post_partyInteraction",
        "summary": "Create Partyinteraction",
        "description": "The `/partyInteraction` POST operation within ETB's business-xapi-service facilitates real-time interaction updates between ETB and its customers and partners.  This crucial endpoint enables seamless integration across various ETB systems.  \n\n**Use Cases:**  This operation supports:\n\n* **Real-time provisioning:**  Instantaneous activation/deactivation of services (e.g., mobile data, broadband) triggered by partner systems.\n* **Customer service interactions:**  Recording customer interactions (calls, chats) to update account status and preferences.\n* **Billing updates:**  Real-time notification of billing events, such as payments and adjustments, to ensure accurate account balances.\n* **Order management:**  Tracking order status changes, from placement to fulfillment, providing visibility across the entire lifecycle.\n\nIntegrations include CRM systems, billing platforms, and partner provisioning portals, enabling a unified view of customer interactions and service status.  The operation utilizes a standardized data format (e.g., JSON) for efficient data exchange.\n",
        "tags": [
          "Business Xapi Service"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "201": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "code": {
                      "type": "string",
                      "example": "Ok"
                    },
                    "message": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Operation completed successfully"
                        }
                      }
                    },
                    "data": {
                      "$ref": "#/components/schemas/PartyinteractionModel"
                    }
                  }
                },
                "example": {
                  "id": "ETB001234",
                  "name": "Ejemplo Request ETB",
                  "status": "active",
                  "metadata": {
                    "source": "PORTAL",
                    "timestamp": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "pending"
                    ]
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "source": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              },
              "example": {
                "id": "ETB001234",
                "name": "Ejemplo Request ETB",
                "status": "active",
                "metadata": {
                  "source": "PORTAL",
                  "timestamp": "2025-07-23T10:00:00Z"
                }
              }
            }
          }
        }
      }
    },
    "/{id}": {
      "patch": {
        "operationId": "patch_id",
        "summary": "Modify {Id}",
        "description": "The `/id` PATCH operation within ETB's business-xapi-service allows modification of existing customer subscription details.  This is crucial for real-time account management, enabling ETB agents to quickly update services like changing a customer's data plan (e.g., upgrading bandwidth or adding international calling features), adjusting billing addresses, or resolving service disruptions.  The operation integrates with ETB's billing system, ensuring immediate reflection of changes in invoicing.  Furthermore, it's used by ETB's self-service portal, empowering customers to manage their accounts independently.  This PATCH operation supports various data fields, including service packages, add-ons, and contact information, streamlining account modifications and enhancing customer experience.  Successful updates trigger notifications to both the customer and internal support teams, ensuring transparency and efficient service delivery.  Integration with ETB's CRM system allows for a holistic view of customer interactions.\n",
        "tags": [
          "Business Xapi Service"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier for id",
            "schema": {
              "type": "string"
            },
            "example": "ETB001234567"
          },
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "code": {
                      "type": "string",
                      "example": "Ok"
                    },
                    "message": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Operation completed successfully"
                        }
                      }
                    },
                    "data": {
                      "$ref": "#/components/schemas/ResourceModel"
                    }
                  }
                },
                "example": {
                  "id": "ETB001234",
                  "name": "Ejemplo Request ETB",
                  "status": "active",
                  "metadata": {
                    "source": "PORTAL",
                    "timestamp": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "pending"
                    ]
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "source": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              },
              "example": {
                "id": "ETB001234",
                "name": "Ejemplo Request ETB",
                "status": "active",
                "metadata": {
                  "source": "PORTAL",
                  "timestamp": "2025-07-23T10:00:00Z"
                }
              }
            }
          }
        }
      }
    },
    "/createSurvey": {
      "post": {
        "operationId": "post_createSurvey",
        "summary": "Create Createsurvey",
        "description": "The `/createSurvey` POST operation within ETB's business-xapi-service allows creation of customer surveys for various telecommunications services.  This RESTful API endpoint facilitates the deployment of targeted surveys, enabling ETB to gather crucial customer feedback on network performance (e.g., broadband speed, mobile coverage), service satisfaction (e.g., billing clarity, customer support), and new product/service viability.\n\nReal-world use cases include post-installation surveys for fiber optic broadband, satisfaction polls following a technical support interaction, or pre-launch feedback on a new 5G mobile plan.  The survey creation process involves defining questions, target audience (based on customer segments), and delivery method (e.g., SMS, email).  This operation integrates with ETB's CRM and analytics platforms, allowing for automated survey distribution and subsequent data analysis to improve service quality and drive business decisions.  The response includes a unique survey ID for tracking and management.\n",
        "tags": [
          "Business Xapi Service"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "201": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "code": {
                      "type": "string",
                      "example": "Ok"
                    },
                    "message": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Operation completed successfully"
                        }
                      }
                    },
                    "data": {
                      "$ref": "#/components/schemas/CreatesurveyModel"
                    }
                  }
                },
                "example": {
                  "id": "ETB001234",
                  "name": "Ejemplo Request ETB",
                  "status": "active",
                  "metadata": {
                    "source": "PORTAL",
                    "timestamp": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "active",
                      "inactive",
                      "pending"
                    ]
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "source": {
                        "type": "string"
                      },
                      "timestamp": {
                        "type": "string",
                        "format": "date-time"
                      }
                    }
                  }
                }
              },
              "example": {
                "id": "ETB001234",
                "name": "Ejemplo Request ETB",
                "status": "active",
                "metadata": {
                  "source": "PORTAL",
                  "timestamp": "2025-07-23T10:00:00Z"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "required": [
          "status",
          "code",
          "message"
        ],
        "properties": {
          "status": {
            "type": "integer",
            "description": "HTTP status code",
            "example": 400
          },
          "code": {
            "type": "string",
            "description": "Business-specific error code",
            "example": "VALIDATION_ERROR"
          },
          "message": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Detailed error message",
                "example": "Invalid request parameters"
              }
            }
          },
          "cause": {
            "type": "array",
            "description": "Error cause information",
            "items": {
              "type": "object",
              "properties": {
                "origin": {
                  "type": "string",
                  "example": "XAPI-Services"
                },
                "message": {
                  "type": "string",
                  "example": "Validation failed"
                }
              }
            }
          }
        }
      }
    },
    "parameters": {
      "CorrelationId": {
        "name": "X-CORRELATION-ID",
        "in": "header",
        "required": false,
        "description": "Correlation ID for transaction traceability",
        "schema": {
          "type": "string",
          "format": "uuid"
        }
      },
      "SystemId": {
        "name": "systemId",
        "in": "header",
        "required": true,
        "description": "Source system identifier for audit purposes",
        "schema": {
          "type": "string",
          "enum": [
            "MIGRACION",
            "TRANSACCCIONES_OM",
            "MAYORISTAS",
            "OTINICIATIVAS"
          ]
        }
      },
      "ProcessName": {
        "name": "processName",
        "in": "header",
        "required": false,
        "description": "Process name for internal audit",
        "schema": {
          "type": "string"
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Invalid request - Missing or incorrect parameters",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 400,
              "code": "REQUEST_ERROR",
              "message": {
                "message": "Required query parameters not specified"
              },
              "cause": [
                {
                  "origin": "XAPI-Services",
                  "message": "Validation failed"
                }
              ]
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized - Invalid or expired token",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 401,
              "code": "Unauthorized",
              "message": {
                "message": "Invalid or expired access token"
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "Access forbidden - Insufficient permissions",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 403,
              "code": "FORBIDDEN",
              "message": {
                "message": "You do not have permissions to access this resource"
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 404,
              "code": "NOT_FOUND",
              "message": {
                "message": "The requested resource does not exist"
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 500,
              "code": "INTERNAL_SERVER_ERROR",
              "message": {
                "message": "Internal error processing the request"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "etb_oauth2": {
        "type": "oauth2",
        "description": "ETB OAuth 2.0 Authentication",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://oauth-etb-security-services.us-e2.cloudhub.io/security/v1/access_token",
            "scopes": {
              "read": "Data read access permissions",
              "write": "Write and modification permissions"
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "etb_oauth2": []
    }
  ],
  "tags": [
    {
      "name": "Business Xapi Service",
      "description": "Main operations for Business Xapi Service"
    }
  ]
}