{
  "openapi": "3.0.3",
  "info": {
    "title": "commerce-xapi-services",
    "description": "The `commerce-xapi-services` API, part of ETB's Experience Layer (XAPI) and aligned with TM Forum Open APIs, provides core capabilities for ETB's telecommunications offerings.  This API-led connectivity architecture exposes four key endpoints for streamlined integration with external systems.\n\n`GET /productOffering` retrieves details of ETB's product catalog, including pricing, features, and bundles, enabling seamless integration with ordering and billing systems.  `GET /normalizeAddress` standardizes customer addresses, ensuring accurate service provisioning and billing.  This leverages ETB's geographic data to enhance address validation and consistency.\n\n`GET /geographicCoverage` checks service availability at a given location, crucial for accurate sales and marketing efforts.  This endpoint utilizes ETB's network coverage data to determine service feasibility. Finally, `GET /promotion` retrieves current promotional offers, allowing partners to display relevant deals to customers, enhancing the customer experience and driving sales.\n\nThis API facilitates efficient integration with various applications, enabling partners and internal systems to access ETB's core commerce functionalities in a standardized and consistent manner.  The architecture promotes agility and rapid innovation within ETB's digital ecosystem.",
    "version": "v1",
    "contact": {
      "name": "ETB API Team",
      "url": "https://www.etb.com.co",
      "email": "api-support@etb.com.co"
    },
    "license": {
      "name": "Proprietary - ETB"
    },
    "x-language": "en",
    "x-compliance": "TM Forum Open APIs"
  },
  "servers": [
    {
      "url": "https://mock-commerce-xapi-services.etb-apis.com",
      "description": "Mock Server - Documentation and Testing"
    },
    {
      "url": "https://commerce-xapi-services-prod.us-e2.cloudhub.io",
      "description": "Production Server - Live Environment"
    },
    {
      "url": "https://commerce-xapi-services-qa.us-e2.cloudhub.io",
      "description": "QA Test Server - Validation Environment"
    }
  ],
  "paths": {
    "/productOffering": {
      "get": {
        "operationId": "get_productOffering",
        "summary": "Retrieve Productoffering",
        "description": "The GET /productOffering operation within ETB's commerce-xapi-services retrieves detailed information on available telecommunication product offerings.  This RESTful API endpoint is crucial for various ETB systems and external integrations.\n\n**Business Use Cases:**\n\n* **Customer Self-Service Portal:**  Allows customers to browse available mobile plans, internet packages, and bundled services, comparing features and pricing before purchase.\n* **ETB Sales Systems:**  Empowers sales representatives with real-time access to product details, enabling accurate quoting and order processing.\n* **Third-Party Partner Integrations:**  Facilitates integration with billing systems, CRM platforms, and partner websites, enabling seamless product discovery and ordering.\n\nThe response includes comprehensive product details such as pricing, features (data allowance, call minutes, speed), eligibility criteria, and associated add-ons.  This ensures accurate information is consistently available across all channels, enhancing customer experience and operational efficiency for ETB.\n",
        "tags": [
          "Commerce Xapi Services"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ProductofferingModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "data": {
                    "id": "ETB001234",
                    "name": "Ejemplo ETB",
                    "created": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      }
    },
    "/normalizeAddress": {
      "get": {
        "operationId": "get_normalizeAddress",
        "summary": "Retrieve Normalizeaddress",
        "description": "The `/normalizeAddress` GET operation within ETB's commerce-xapi-services standardizes customer addresses for improved accuracy in billing and service provisioning.  This is crucial for ETB's telecommunications infrastructure, ensuring accurate location data for network connectivity and troubleshooting.\n\nBusiness use cases include:\n\n* **Order processing:**  Accurate addresses prevent delivery failures and streamline the onboarding of new subscribers for services like internet and fixed-line telephony.\n* **Billing and invoicing:** Correct addresses ensure timely and accurate billing, reducing disputes and improving customer satisfaction.\n* **Customer service:**  Normalized addresses facilitate efficient customer support, enabling quick identification of service issues based on precise location data.\n\nThis operation integrates with ETB's CRM and order management systems, enabling seamless data flow and automated address validation.  The API returns a standardized address format, including components like street address, city, postal code, and potentially geographic coordinates, enhancing data quality across ETB's systems.\n",
        "tags": [
          "Commerce Xapi Services"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/NormalizeaddressModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "data": {
                    "id": "ETB001234",
                    "name": "Ejemplo ETB",
                    "created": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      }
    },
    "/geographicCoverage": {
      "get": {
        "operationId": "get_geographicCoverage",
        "summary": "Retrieve Geographiccoverage",
        "description": "The GET /geographicCoverage operation within ETB's commerce-xapi-services retrieves available telecommunications service areas.  This RESTful API endpoint provides crucial data for various ETB applications and external integrations.\n\n**Business Use Cases:**\n\n* **Customer Self-Service Portal:**  Allows customers to check service availability at a specific address before ordering, enhancing the online experience and reducing support calls.\n* **Sales & Marketing:**  Identifies potential customer segments based on geographic coverage, enabling targeted marketing campaigns and efficient resource allocation.\n* **Network Planning:**  Supports network expansion planning by visualizing coverage gaps and identifying areas requiring infrastructure investment.\n* **Third-party Integrations:**  Enables integration with external mapping services or CRM systems to display ETB's service areas dynamically, improving customer experience and operational efficiency.\n\nThis operation returns a structured response detailing service availability (e.g., broadband, mobile) for specified geographic coordinates or addresses, facilitating seamless integration into various ETB systems and partner applications.\n",
        "tags": [
          "Commerce Xapi Services"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/GeographiccoverageModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "data": {
                    "id": "ETB001234",
                    "name": "Ejemplo ETB",
                    "created": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      }
    },
    "/promotion": {
      "get": {
        "operationId": "get_promotion",
        "summary": "Retrieve Promotion",
        "description": "The `/promotion` GET operation within ETB's commerce-xapi-services retrieves active promotional offers for telecommunication services.  This RESTful endpoint is crucial for ETB's online and mobile applications, enabling dynamic display of relevant promotions to customers.\n\nBusiness use cases include: showcasing bundled internet and mobile deals on the ETB website, presenting targeted offers based on customer usage patterns in the MyETB app, and powering personalized promotional banners within the ETB self-service portal.  The API integrates with ETB's CRM system to personalize offers and with the billing system to ensure accurate promotion application.  Responses include promotion details (ID, description, eligibility criteria, discount type, validity period), allowing seamless integration with various front-end systems.  This ensures customers are always presented with the most up-to-date and relevant promotional opportunities.\n",
        "tags": [
          "Commerce Xapi Services"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PromotionModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "status": "success",
                  "data": {
                    "id": "ETB001234",
                    "name": "Ejemplo ETB",
                    "created": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "required": [
          "status",
          "code",
          "message"
        ],
        "properties": {
          "status": {
            "type": "integer",
            "description": "HTTP status code",
            "example": 400
          },
          "code": {
            "type": "string",
            "description": "Business-specific error code",
            "example": "VALIDATION_ERROR"
          },
          "message": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Detailed error message",
                "example": "Invalid request parameters"
              }
            }
          },
          "cause": {
            "type": "array",
            "description": "Error cause information",
            "items": {
              "type": "object",
              "properties": {
                "origin": {
                  "type": "string",
                  "example": "XAPI-Services"
                },
                "message": {
                  "type": "string",
                  "example": "Validation failed"
                }
              }
            }
          }
        }
      }
    },
    "parameters": {
      "CorrelationId": {
        "name": "X-CORRELATION-ID",
        "in": "header",
        "required": false,
        "description": "Correlation ID for transaction traceability",
        "schema": {
          "type": "string",
          "format": "uuid"
        }
      },
      "SystemId": {
        "name": "systemId",
        "in": "header",
        "required": true,
        "description": "Source system identifier for audit purposes",
        "schema": {
          "type": "string",
          "enum": [
            "MIGRACION",
            "TRANSACCCIONES_OM",
            "MAYORISTAS",
            "OTINICIATIVAS"
          ]
        }
      },
      "ProcessName": {
        "name": "processName",
        "in": "header",
        "required": false,
        "description": "Process name for internal audit",
        "schema": {
          "type": "string"
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Invalid request - Missing or incorrect parameters",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 400,
              "code": "REQUEST_ERROR",
              "message": {
                "message": "Required query parameters not specified"
              },
              "cause": [
                {
                  "origin": "XAPI-Services",
                  "message": "Validation failed"
                }
              ]
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized - Invalid or expired token",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 401,
              "code": "Unauthorized",
              "message": {
                "message": "Invalid or expired access token"
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "Access forbidden - Insufficient permissions",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 403,
              "code": "FORBIDDEN",
              "message": {
                "message": "You do not have permissions to access this resource"
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 404,
              "code": "NOT_FOUND",
              "message": {
                "message": "The requested resource does not exist"
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 500,
              "code": "INTERNAL_SERVER_ERROR",
              "message": {
                "message": "Internal error processing the request"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "etb_oauth2": {
        "type": "oauth2",
        "description": "ETB OAuth 2.0 Authentication",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://oauth-etb-security-services.us-e2.cloudhub.io/security/v1/access_token",
            "scopes": {
              "read": "Data read access permissions",
              "write": "Write and modification permissions"
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "etb_oauth2": []
    }
  ],
  "tags": [
    {
      "name": "Commerce Xapi Services",
      "description": "Main operations for Commerce Xapi Services"
    }
  ]
}