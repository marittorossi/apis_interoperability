{
  "openapi": "3.0.3",
  "info": {
    "title": "appointment-admin-web-xapi-services",
    "description": "## API Overview\n\n**Architecture Layer:** Experience Layer (XAPI) - Part of ETB's API-led connectivity architecture\n\n**Service Name:** appointment-management-xapi-services\n**Total Operations:** 3\n**Documentation Quality:** 60% RAML Coverage\n\n## Core Capabilities\n\nAPI designed for appointment management, enabling the handling of various actions related to scheduling and agenda management.\n\n## Standards Compliance\n\n- OpenAPI 3.0.3 Specification\n- ETB API Design Guidelines\n- OAuth 2.0 Security Standards\n- RESTful API Design Principles\n- TM Forum Open APIs Compliance\n\n## Mock Server Information\n\nThis specification includes mock examples for all operations to facilitate API testing and integration development without requiring live backend connectivity.",
    "version": "v1",
    "contact": {
      "name": "ETB API Team",
      "url": "https://www.etb.com.co",
      "email": "api-support@etb.com.co"
    },
    "license": {
      "name": "Proprietary - ETB"
    },
    "x-language": "en",
    "x-compliance": "TM Forum Open APIs"
  },
  "servers": [
    {
      "url": "https://mock-appointment-management-xapi-services.etb-apis.com",
      "description": "Mock Server - Documentation and Testing"
    },
    {
      "url": "https://appointment-management-xapi-services-prod.us-e2.cloudhub.io",
      "description": "Production Server - Live Environment"
    },
    {
      "url": "https://appointment-management-xapi-services-qa.us-e2.cloudhub.io",
      "description": "QA Test Server - Validation Environment"
    }
  ],
  "paths": {
    "/appointment": {
      "post": {
        "operationId": "post_appointment",
        "summary": "Create Appointment",
        "description": "The `/appointment` POST operation within ETB's appointment-management-xapi-services facilitates scheduling and managing appointments for various telecommunications services.  This RESTful API allows authorized applications to create new appointments for customers, technicians, or internal staff.  Business use cases include scheduling installations of fiber optic broadband, troubleshooting appointments for faulty landlines, or booking in-person consultations at ETB stores.  The API accepts detailed appointment data including date, time, customer details (potentially integrated with ETB's CRM), service type, technician assignment (if applicable, potentially integrated with ETB's workforce management system), and location.  Successful requests return a unique appointment ID, allowing subsequent updates or retrieval.  This integration point is crucial for streamlining ETB's operational efficiency and enhancing customer experience by providing a centralized, automated appointment management system.  Error handling provides informative responses for invalid data or scheduling conflicts.\n",
        "tags": [
          "Appointment Scheduling"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "201": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "code": {
                      "type": "string",
                      "example": "Ok"
                    },
                    "message": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Operation completed successfully"
                        }
                      }
                    },
                    "data": {
                      "$ref": "#/components/schemas/AppointmentModel"
                    }
                  }
                },
                "example": {
                  "customer": {
                    "documentNumber": "87654321",
                    "documentType": "CC",
                    "phone": "3157000421",
                    "name": "USUARIO_SISTEMA"
                  },
                  "appointment": {
                    "date": "2025-07-25",
                    "timeSlot": "AM",
                    "duration": "120"
                  },
                  "order": {
                    "id": "12345",
                    "CUN": "CUN001122",
                    "orderType": "installation"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customer",
                  "appointment"
                ],
                "properties": {
                  "customer": {
                    "$ref": "#/components/schemas/Customer"
                  },
                  "appointment": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date"
                      },
                      "timeSlot": {
                        "type": "string",
                        "enum": [
                          "AM",
                          "PM",
                          "EVENING"
                        ]
                      },
                      "duration": {
                        "type": "string",
                        "pattern": "^[0-9]+$"
                      }
                    },
                    "required": [
                      "date",
                      "timeSlot"
                    ]
                  }
                }
              },
              "example": {
                "customer": {
                  "documentNumber": "87654321",
                  "documentType": "CC",
                  "phone": "3157000421",
                  "name": "USUARIO_SISTEMA"
                },
                "appointment": {
                  "date": "2025-07-25",
                  "timeSlot": "AM",
                  "duration": "120"
                },
                "order": {
                  "id": "12345",
                  "CUN": "CUN001122",
                  "orderType": "installation"
                }
              }
            }
          }
        }
      }
    },
    "/{id}": {
      "get": {
        "operationId": "get_id",
        "summary": "Retrieve {Id}",
        "description": "Retrieves a specific appointment from ETB's appointment-management-xapi-services using its unique ID.  This GET /{id} operation is crucial for ETB's telecommunications service provisioning and customer support.\n\n**Business Use Cases:**\n\n* **Technician Dispatch:**  Field technicians use this API to access appointment details (customer address, service type, scheduled time) before visiting a customer's premises for installations, repairs, or maintenance of ETB's network infrastructure (e.g., fiber optic cable installation, modem replacement).\n\n* **Customer Self-Service Portal:**  Customers can view their scheduled appointments via ETB's online portal, integrated with this API, allowing them to manage and reschedule appointments independently.\n\n* **Internal Reporting & Analytics:**  ETB's internal systems leverage this API to generate reports on appointment scheduling efficiency, technician workload, and service completion rates, optimizing resource allocation.\n\n* **Third-Party Integrations:**  This API integrates with ETB's CRM and scheduling systems, ensuring seamless data flow and consistency across different platforms.  It also enables integration with partner applications for appointment reminders and notifications.\n",
        "tags": [
          "Appointment Management Xapi Services"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier for id",
            "schema": {
              "type": "string"
            },
            "example": "ETB001234567"
          },
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "$ref": "#/components/schemas/ResourceModel"
                    }
                  }
                },
                "example": {
                  "id": "APT001234",
                  "status": "SCHEDULED",
                  "date": "2025-07-25",
                  "timeSlot": "AM",
                  "customer": {
                    "documentNumber": "87654321",
                    "name": "Carlos Rodríguez",
                    "phone": "3157000421"
                  },
                  "technician": {
                    "id": "TECH001",
                    "name": "Pedro Martínez",
                    "skills": [
                      "FTTH",
                      "HFC"
                    ]
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      },
      "patch": {
        "operationId": "patch_id",
        "summary": "Modify {Id}",
        "description": "The `/ {id}` PATCH operation within ETB's appointment-management-xapi-services updates existing appointments.  This is crucial for ETB's telecommunications operations, enabling real-time modifications to technician schedules.  Business use cases include rescheduling appointments due to customer requests, technician unavailability (e.g., illness or equipment malfunction), or unforeseen network issues impacting service delivery.  The service integrates with ETB's CRM and field service management systems, allowing for seamless updates across platforms.  For example, a customer service representative can reschedule a fiber optic installation appointment via the CRM, triggering an automatic update via this PATCH operation, instantly notifying the technician and updating ETB's internal scheduling system.  This ensures efficient resource allocation and improved customer service within ETB's telecommunications network.  The operation accepts a JSON payload specifying the changes to the appointment details (e.g., date, time, location, technician).\n",
        "tags": [
          "Appointment Management Xapi Services"
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier for id",
            "schema": {
              "type": "string"
            },
            "example": "ETB001234567"
          },
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "code": {
                      "type": "string",
                      "example": "Ok"
                    },
                    "message": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Operation completed successfully"
                        }
                      }
                    },
                    "data": {
                      "$ref": "#/components/schemas/ResourceModel"
                    }
                  }
                },
                "example": {
                  "id": "ETB001234",
                  "name": "Ejemplo Request ETB",
                  "status": "active",
                  "metadata": {
                    "source": "PORTAL",
                    "timestamp": "2025-07-23T10:00:00Z"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "customer",
                  "appointment"
                ],
                "properties": {
                  "customer": {
                    "$ref": "#/components/schemas/Customer"
                  },
                  "appointment": {
                    "type": "object",
                    "properties": {
                      "date": {
                        "type": "string",
                        "format": "date"
                      },
                      "timeSlot": {
                        "type": "string",
                        "enum": [
                          "AM",
                          "PM",
                          "EVENING"
                        ]
                      },
                      "duration": {
                        "type": "string",
                        "pattern": "^[0-9]+$"
                      }
                    },
                    "required": [
                      "date",
                      "timeSlot"
                    ]
                  }
                }
              },
              "example": {
                "id": "ETB001234",
                "name": "Ejemplo Request ETB",
                "status": "active",
                "metadata": {
                  "source": "PORTAL",
                  "timestamp": "2025-07-23T10:00:00Z"
                }
              }
            }
          }
        }
      }
    },
    "/searchTimeSlot": {
      "get": {
        "operationId": "get_searchTimeSlot",
        "summary": "Retrieve Searchtimeslot",
        "description": "The `/searchTimeSlot` GET operation within ETB's appointment-management-xapi-services allows agents to find available appointment slots for customer service interactions.  This is crucial for scheduling technical support appointments, network installations, or in-home consultations.  The operation accepts parameters such as date range, service type (e.g., broadband installation, fiber optic upgrade), and technician location to return a list of available time slots.  Integrations exist with ETB's customer relationship management (CRM) system, automatically updating appointment details upon booking.  Business use cases include optimizing technician routing, minimizing customer wait times, and improving overall service efficiency.  The returned data includes slot details like start/end times, technician availability, and associated service IDs, enabling seamless scheduling and resource allocation within ETB's telecommunications network.\n",
        "tags": [
          "Appointment Management Xapi Services"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/CorrelationId"
          },
          {
            "$ref": "#/components/parameters/SystemId"
          }
        ],
        "responses": {
          "200": {
            "description": "Operation completed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "integer",
                      "example": 200
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/SearchtimeslotModel"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "id": "APT001234",
                  "status": "SCHEDULED",
                  "date": "2025-07-25",
                  "timeSlot": "AM",
                  "customer": {
                    "documentNumber": "87654321",
                    "name": "Carlos Rodríguez",
                    "phone": "3157000421"
                  },
                  "technician": {
                    "id": "TECH001",
                    "name": "Pedro Martínez",
                    "skills": [
                      "FTTH",
                      "HFC"
                    ]
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized"
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError"
          }
        },
        "security": [
          {
            "etb_oauth2": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "required": [
          "status",
          "code",
          "message"
        ],
        "properties": {
          "status": {
            "type": "integer",
            "description": "HTTP status code",
            "example": 400
          },
          "code": {
            "type": "string",
            "description": "Business-specific error code",
            "example": "VALIDATION_ERROR"
          },
          "message": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Detailed error message",
                "example": "Invalid request parameters"
              }
            }
          },
          "cause": {
            "type": "array",
            "description": "Error cause information",
            "items": {
              "type": "object",
              "properties": {
                "origin": {
                  "type": "string",
                  "example": "XAPI-Services"
                },
                "message": {
                  "type": "string",
                  "example": "Validation failed"
                }
              }
            }
          }
        }
      }
    },
    "parameters": {
      "CorrelationId": {
        "name": "X-CORRELATION-ID",
        "in": "header",
        "required": false,
        "description": "Correlation ID for transaction traceability",
        "schema": {
          "type": "string",
          "format": "uuid"
        }
      },
      "SystemId": {
        "name": "systemId",
        "in": "header",
        "required": true,
        "description": "Source system identifier for audit purposes",
        "schema": {
          "type": "string",
          "enum": [
            "MIGRACION",
            "TRANSACCCIONES_OM",
            "MAYORISTAS",
            "OTINICIATIVAS"
          ]
        }
      },
      "ProcessName": {
        "name": "processName",
        "in": "header",
        "required": false,
        "description": "Process name for internal audit",
        "schema": {
          "type": "string"
        }
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Invalid request - Missing or incorrect parameters",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 400,
              "code": "REQUEST_ERROR",
              "message": {
                "message": "Required query parameters not specified"
              },
              "cause": [
                {
                  "origin": "XAPI-Services",
                  "message": "Validation failed"
                }
              ]
            }
          }
        }
      },
      "Unauthorized": {
        "description": "Unauthorized - Invalid or expired token",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 401,
              "code": "Unauthorized",
              "message": {
                "message": "Invalid or expired access token"
              }
            }
          }
        }
      },
      "Forbidden": {
        "description": "Access forbidden - Insufficient permissions",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 403,
              "code": "FORBIDDEN",
              "message": {
                "message": "You do not have permissions to access this resource"
              }
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 404,
              "code": "NOT_FOUND",
              "message": {
                "message": "The requested resource does not exist"
              }
            }
          }
        }
      },
      "InternalServerError": {
        "description": "Internal server error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            },
            "example": {
              "status": 500,
              "code": "INTERNAL_SERVER_ERROR",
              "message": {
                "message": "Internal error processing the request"
              }
            }
          }
        }
      }
    },
    "securitySchemes": {
      "etb_oauth2": {
        "type": "oauth2",
        "description": "ETB OAuth 2.0 Authentication",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "https://oauth-etb-security-services.us-e2.cloudhub.io/security/v1/access_token",
            "scopes": {
              "read": "Data read access permissions",
              "write": "Write and modification permissions"
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "etb_oauth2": []
    }
  ],
  "tags": [
    {
      "name": "Appointment Management Xapi Services",
      "description": "Main operations for Appointment Management Xapi Services"
    },
    {
      "name": "Appointment Scheduling",
      "description": "Programación y gestión de citas técnicas"
    }
  ]
}